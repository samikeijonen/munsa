!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b(a)}):"object"==typeof exports?module.exports=b(a):a.SmoothScroll=b(a)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(a){"use strict";var b="querySelector"in document&&"addEventListener"in a&&"requestAnimationFrame"in a&&"closest"in a.Element.prototype,c={ignore:"[data-scroll-ignore]",header:null,speed:500,offset:0,easing:"easeInOutCubic",customEasing:null,before:function(){},after:function(){}},d=function(){for(var a={},b=0,c=arguments.length,d=function(b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};b<c;b++){d(arguments[b])}return a},e=function(b){return parseInt(a.getComputedStyle(b).height,10)},f=function(a){"#"===a.charAt(0)&&(a=a.substr(1));for(var b,c=String(a),d=c.length,e=-1,f="",g=c.charCodeAt(0);++e<d;){if(0===(b=c.charCodeAt(e)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");b>=1&&b<=31||127==b||0===e&&b>=48&&b<=57||1===e&&b>=48&&b<=57&&45===g?f+="\\"+b.toString(16)+" ":f+=b>=128||45===b||95===b||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122?c.charAt(e):"\\"+c.charAt(e)}return"#"+f},g=function(a,b){var c;return"easeInQuad"===a.easing&&(c=b*b),"easeOutQuad"===a.easing&&(c=b*(2-b)),"easeInOutQuad"===a.easing&&(c=b<.5?2*b*b:(4-2*b)*b-1),"easeInCubic"===a.easing&&(c=b*b*b),"easeOutCubic"===a.easing&&(c=--b*b*b+1),"easeInOutCubic"===a.easing&&(c=b<.5?4*b*b*b:(b-1)*(2*b-2)*(2*b-2)+1),"easeInQuart"===a.easing&&(c=b*b*b*b),"easeOutQuart"===a.easing&&(c=1- --b*b*b*b),"easeInOutQuart"===a.easing&&(c=b<.5?8*b*b*b*b:1-8*--b*b*b*b),"easeInQuint"===a.easing&&(c=b*b*b*b*b),"easeOutQuint"===a.easing&&(c=1+--b*b*b*b*b),"easeInOutQuint"===a.easing&&(c=b<.5?16*b*b*b*b*b:1+16*--b*b*b*b*b),a.customEasing&&(c=a.customEasing(b)),c||b},h=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},i=function(a,b,c){var d=0;if(a.offsetParent)do{d+=a.offsetTop,a=a.offsetParent}while(a);return d=Math.max(d-b-c,0)},j=function(a){return a?e(a)+a.offsetTop:0},k=function(b,c,d){d||(b.focus(),document.activeElement.id!==b.id&&(b.setAttribute("tabindex","-1"),b.focus(),b.style.outline="none"),a.scrollTo(0,c))},l=function(b){return!!("matchMedia"in a&&a.matchMedia("(prefers-reduced-motion)").matches)};return function(e,m){var n,o,p,q,r,s,t,u={};u.cancelScroll=function(){cancelAnimationFrame(t)},u.animateScroll=function(b,e,f){var l=d(n||c,f||{}),m="[object Number]"===Object.prototype.toString.call(b),o=m||!b.tagName?null:b;if(m||o){var p=a.pageYOffset;l.header&&!q&&(q=document.querySelector(l.header)),r||(r=j(q));var s,t,v,w=m?b:i(o,r,parseInt("function"==typeof l.offset?l.offset():l.offset,10)),x=w-p,y=h(),z=0,A=function(c,d){var f=a.pageYOffset;if(c==d||f==d||(p<d&&a.innerHeight+f)>=y)return u.cancelScroll(),k(b,d,m),l.after(b,e),s=null,!0},B=function(b){s||(s=b),z+=b-s,t=z/parseInt(l.speed,10),t=t>1?1:t,v=p+x*g(l,t),a.scrollTo(0,Math.floor(v)),A(v,w)||(a.requestAnimationFrame(B),s=b)};0===a.pageYOffset&&a.scrollTo(0,0),l.before(b,e),u.cancelScroll(),a.requestAnimationFrame(B)}};var v=function(a){o&&(o.id=o.getAttribute("data-scroll-id"),u.animateScroll(o,p),o=null,p=null)},w=function(b){if(!l(n)&&0===b.button&&!b.metaKey&&!b.ctrlKey&&(p=b.target.closest(e))&&"a"===p.tagName.toLowerCase()&&!b.target.closest(n.ignore)&&p.hostname===a.location.hostname&&p.pathname===a.location.pathname&&/#/.test(p.href)){var c;try{c=f(decodeURIComponent(p.hash))}catch(a){c=f(p.hash)}if("#"===c){b.preventDefault(),o=document.body;var d=o.id?o.id:"smooth-scroll-top";return o.setAttribute("data-scroll-id",d),o.id="",void(a.location.hash.substring(1)===d?v():a.location.hash=d)}o=document.querySelector(c),o&&(o.setAttribute("data-scroll-id",o.id),o.id="",p.hash===a.location.hash&&(b.preventDefault(),v()))}},x=function(a){s||(s=setTimeout(function(){s=null,r=j(q)},66))};return u.destroy=function(){n&&(document.removeEventListener("click",w,!1),a.removeEventListener("resize",x,!1),u.cancelScroll(),n=null,o=null,p=null,q=null,r=null,s=null,t=null)},u.init=function(e){b&&(u.destroy(),n=d(c,e||{}),q=n.header?document.querySelector(n.header):null,r=j(q),document.addEventListener("click",w,!1),a.addEventListener("hashchange",v,!1),q&&a.addEventListener("resize",x,!1))},u.init(m),u}});